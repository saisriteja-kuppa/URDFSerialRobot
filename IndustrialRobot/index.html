
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.6">
    
    
      
        <title>Industrial Robot - URDF Tutorial for Serial Robotics</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.802231af.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#industrial-robot" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="URDF Tutorial for Serial Robotics" class="md-header__button md-logo" aria-label="URDF Tutorial for Serial Robotics" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            URDF Tutorial for Serial Robotics
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Industrial Robot
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="URDF Tutorial for Serial Robotics" class="md-nav__button md-logo" aria-label="URDF Tutorial for Serial Robotics" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    URDF Tutorial for Serial Robotics
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SimpleExample/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../basic/" class="md-nav__link">
        Basics of URDF
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Cobot/" class="md-nav__link">
        Collab Robots
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Industrial Robot
      </a>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="industrial-robot">Industrial Robot</h1>
<p>Since Cobots comes with ROS support simple changes can accomplish the task we wanted to do. But for some industrial robots all you get is a mesh files and a CAD designer would help you primarily to build a urdf file with proper location(not probably orientation) for each link and joint. So one have to tweet the values of the origin for the robot, to proceed for the IKFast solution.</p>
<h1 id="kuka-robot">Kuka Robot</h1>
<p>One way to debug the values is to know the entire forward kinematics of the robot. We have pytransforms3d package to visuvalize the robot and get the specific information of the robot. </p>
<p>The tree shown below is the raw format we got from the CAD file</p>
<pre><code class="language-text">root Link: base_link has 1 child(ren)
    child(1):  Link_1
        child(1):  Link_2
            child(1):  Link_3
                child(1):  Link_4
                    child(1):  Link_5
                        child(1):  Link_6

</code></pre>
<p>The root link is the base_link, it is highly recommend to be a world attached to the robot, so you can visuvalize it neatly.</p>
<pre><code class="language-text">-----------------------------------add in the URDF file
&lt;link name=&quot;world&quot;/&gt;
  &lt;joint name=&quot;world_base&quot; type=&quot;fixed&quot;&gt;
    &lt;origin rpy=&quot;-1.57 0 0&quot; xyz=&quot;0 0 0&quot;/&gt;
    &lt;parent link=&quot;world&quot;/&gt;
    &lt;child link=&quot;base_link&quot;/&gt;
  &lt;/joint&gt;
</code></pre>
<p>The new tree looks like this.</p>
<pre><code class="language-text">robot name is: KUKA_ASMLY
---------- Successfully Parsed XML ---------------
root Link: world has 1 child(ren)
    child(1):  base_link
        child(1):  Link_1
            child(1):  Link_2
                child(1):  Link_3
                    child(1):  Link_4
                        child(1):  Link_5
                            child(1):  Link_6
</code></pre>
<h2 id="visuval-the-robot">Visuval the Robot</h2>
<p>The below code requries pytransform3d to be installed and I am using python 2, should work for python 3. This code helps to visuvalize the urdf in matplotlib, but the graphics in matplot isnt,great so one can opt for using urdfpy as an alternative for this, since it used open3d software its easy to play with it.</p>
<p><strong>Pytransforms3d</strong></p>
<pre><code class="language-python">import os
import numpy as np
import matplotlib.pyplot as plt
from pytransform3d.urdf import UrdfTransformManager
data_dir = &quot;kuka/meshes/&quot;
tm = UrdfTransformManager()
filename = os.path.join(data_dir, &quot;KUKA_ASMLY&quot;)
with open(filename, &quot;r&quot;) as f:
    robot_urdf = f.read()
    tm.load_urdf(robot_urdf, mesh_path=data_dir)

tm.plot_visuals(&quot;KUKA_ASMLY&quot;, ax_s=0.6, alpha=0.7)
plt.show()
</code></pre>
<p><strong>urdfpy</strong> </p>
<pre><code class="language-python">from urdfpy import URDF
import numpy as np
np.set_printoptions(formatter={'float': lambda x: &quot;{0:0.3f}&quot;.format(x)})
robot = URDF.load('kuka.urdf')
robot.show()
</code></pre>
<h1 id="kuka-forward-kinematics-checker">Kuka Forward Kinematics Checker</h1>
<p>The below code helps to give forward kinematics for everylink in the kuka robot. From the forward kinematics you can model the robots urdf file, since fk can be done easily from the dh table, from a proper urdf file the Ikfast takes care of the IK.</p>
<p><strong>pytransform3d</strong></p>
<pre><code class="language-python">import os
import numpy as np
import matplotlib.pyplot as plt
from pytransform3d.urdf import UrdfTransformManager
data_dir = &quot;kuka/meshes/&quot;
tm = UrdfTransformManager()
filename = os.path.join(data_dir, &quot;KUKA_ASMLY&quot;)
with open(filename, &quot;r&quot;) as f:
    robot_urdf = f.read()
    tm.load_urdf(robot_urdf, mesh_path=data_dir)

link_names = []

for linkname in link_names:

    #print(get_transform(from_frame, to_frame))
    print(get_transform('world',linkname))


tm.plot_visuals(&quot;KUKA_ASMLY&quot;, ax_s=0.6, alpha=0.7)
plt.show()
</code></pre>
<p><strong>urdfpy</strong></p>
<pre><code class="language-python">from urdfpy import URDF
import numpy as np
np.set_printoptions(formatter={'float': lambda x: &quot;{0:0.3f}&quot;.format(x)})

robot = URDF.load('kuka_copy.urdf')

# for joint in robot.actuated_joints:
#     print(joint.name)

# for link in robot.links:
#     print(link.name)

#home position
angs = [ 0., -1.57,0, 0,0,0     ]

configur = dict(zip(['Joint_{}'.format(i) for i in range(6)], angs))
print(configur)


# fk = robot.link_fk()
fk = robot.link_fk(cfg=configur)

for i in range(8):
    print('name is {}'.format(robot.links[i].name))
    print(fk[robot.links[i]])

    print('------------------------')

# robot.show(cfg=configur)
</code></pre>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../Cobot/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Collab Robots" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Collab Robots
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.756773cc.min.js"></script>
      
    
  </body>
</html>